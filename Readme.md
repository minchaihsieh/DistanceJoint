# 该项目为Distance Joint 的 demo

### 注：该项目代码大量参考Bevy XPBD 且极为不完善

## 编译
`cargo build`
## 运行
`cargo run`

## 修改参数
于`cuboid.rs`中文件中修改对应参数




## 已知问题：
1.物理模拟似乎与现实有差距，但因物理数学知识匮乏，定位中。
2.没法施加外力




## 关于数学和物理上的理解
这个问题首先需要实现一个基本的物理引擎，包括刚体的移动和旋转等。    
其中旋转是我极其陌生的领域，参考Bevy对旋转的实现查阅了`四元数`相关的资料，但理解不够深刻。    
实现基本的重力和旋转之后，开始查找一些物理引擎使用的算法，最简单的当然是通过受力分析对物体的状况进行分析，从而推断出下一个时刻物体的位置与旋转状况。   
另外我发现一种实现起来比较简单的`Extended Position-Based Dynamic`算法来模拟物理现象  。
该算法主要先计算当前情况下物体的理论位置与旋转状况，再通过对约束的计算对物体的位置进行修正，最后根据修正的位置反推物体的速度。而`Distance Constraint`是其中的一个基本约束，用于约束物体之间的距离。  
之后实现了质点的XPBD算法流程，在扩大到刚体时发现涉及到比较复杂的旋转问题，同时本题`Distance Joint`是`Distance Constraint`的一个升级，需要考虑连接点以及柔度参数。
最终还是决定大量参考已有开源库Bevy XPBD实现。
## 其他
开发日志以及参考资料位于`DistanceJoint.md`
实际参考资料还包括本目录下 `xpbd.pdf` 与 `quaternion.pdf`